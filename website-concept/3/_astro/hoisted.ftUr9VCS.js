import{n as c}from"./ViewTransitions.astro_astro_type_script_index_0_lang.lpbUYgez.js";import{g as a,d as l,l as s}from"./index.DflF0dBw.js";import{p as g}from"./index.JMLLUxR2.js";let n=a("/home",l);const i=()=>{const e=window.location.search;return e&&new URLSearchParams(e).has("debug")?(console.log("Page running in debug mode..."),!0):!1},u=new Event("prefetchEvent"),d=e=>{g(e,{with:"fetch"}),document.dispatchEvent(u),console.log("dispatched")},o=e=>{switch(console.debug("Redirect URL by language: '"+e+"'"),e){case"en":n=a("/home/","en");break}console.log("Final URL: "+n),d(n)},f=()=>{if(i())return;let e=window.localStorage.getItem("language");if(e){console.log("Found local storage preference: "+e),o(e);return}let r=navigator.languages;for(let t of r)if(t.includes("-")&&(t=t.split("-")[0]),s.includes(t)){console.log("Found browser preference matching locales: "+t),o(t);break}};document.addEventListener("prefetchEvent",e=>{c(n,{history:"replace"})});document.addEventListener("astro:page-load",()=>{f()},{once:!0});
