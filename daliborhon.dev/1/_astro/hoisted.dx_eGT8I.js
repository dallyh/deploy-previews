import"./ViewTransitions.astro_astro_type_script_index_0_lang.smVYmDTI.js";import"./index.S9RqswRG.js";const E=()=>{const a=document.querySelector("#menuButton"),l=document.querySelector("#siteNav"),d=document.querySelectorAll("[data-submenu]");if(a===null)return;const s=(e=null)=>{const r=document.querySelectorAll("[data-submenu].opened");if(e===null){r.forEach(c=>{c.classList.remove("opened")});return}const o=e.target;r.forEach(c=>{c.children[0]!==o&&c.classList.remove("opened")})},m=()=>{d.forEach(e=>{e?.addEventListener("click",r=>{e.classList.toggle("opened");const o=e.children[0];o.ariaExpanded==="false"?o.ariaExpanded="true":o.ariaExpanded="false"})})},u=()=>{a.children[0].classList.toggle("active"),document.body.classList.toggle("nav-active")},t=()=>{document.body.classList.contains("nav-active")&&(a.children[0].classList.toggle("active"),document.body.classList.remove("nav-active"))},i=(e=null)=>{if(e===null){t();return}let r=e.target;r!==a&&(l?.contains(r)||t())};document.onmouseup=e=>{i(e),s(e)},document.onkeydown=e=>{e.key==="Enter"&&(i(e),s(e)),e.key==="Escape"&&(i(),s())},a.addEventListener("click",e=>{e.preventDefault(),u()}),m(),console.log("Navigation initialized.")};document.addEventListener("astro:page-load",a=>{E()},{once:!1});const w=()=>{const a=document.querySelector("#contactModal"),l=document.querySelector("#contactLink");l!=null&&(l.onclick=d=>{d.preventDefault(),a?.classList.toggle("show"),document.documentElement.classList.toggle("no-scroll")})};document.addEventListener("astro:page-load",a=>{w()},{once:!1});const y=document.querySelectorAll("[data-js-language]");y.forEach(a=>{a.addEventListener("click",function(l){let s=l.target.getAttribute("data-js-language");if(s===null){console.error("Could not find 'data-js-language' attribute.");return}window.localStorage.setItem("language",s)})});const L="modulepreload",b=function(a){return"/deploy-previews/daliborhon.dev/1/"+a},v={},S=function(l,d,s){let m=Promise.resolve();if(d&&d.length>0){const u=document.getElementsByTagName("link");m=Promise.all(d.map(t=>{if(t=b(t),t in v)return;v[t]=!0;const i=t.endsWith(".css"),e=i?'[rel="stylesheet"]':"";if(!!s)for(let c=u.length-1;c>=0;c--){const n=u[c];if(n.href===t&&(!i||n.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${e}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":L,i||(o.as="script",o.crossOrigin=""),o.href=t,document.head.appendChild(o),i)return new Promise((c,n)=>{o.addEventListener("load",c),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))})}))}return m.then(()=>l()).catch(u=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=u,window.dispatchEvent(t),!t.defaultPrevented)throw u})};class k extends HTMLElement{constructor(){super();const l=this.querySelector("button[data-open-modal]"),d=this.querySelector("button[data-close-modal]"),s=this.querySelector("dialog"),m=this.querySelector(".dialog-frame"),u="";let t=null;const i=n=>{("href"in(n.target||{})||document.body.contains(n.target)&&!m.contains(n.target))&&r()},e=n=>{s.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),n?.stopPropagation(),window.addEventListener("click",i)},r=()=>s.close();l.addEventListener("click",e),l.disabled=!1,d.addEventListener("click",r),s.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",i)}),window.addEventListener("keydown",n=>{const g=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);n.metaKey===!0&&n.key==="k"?(s.open?r():e(),n.preventDefault()):n.key==="/"&&!s.open&&!g&&(e(),n.preventDefault())});let o={};try{o=JSON.parse(this.dataset.translations||"{}")}catch{}const c=()=>{(window.requestIdleCallback||(g=>setTimeout(g,1)))(async()=>{const{PagefindUI:g}=await S(()=>import("./ui-core.-I_Q098A.js"),__vite__mapDeps([0,1,2]));t=new g({element:"#pagefind",baseUrl:"/deploy-previews/daliborhon.dev/1/",bundlePath:"/deploy-previews/daliborhon.dev/1/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:o,showSubResults:!0,processResult:function(f){if(f?.meta?.image){let h=new URL(f.url,String(window.location)),p=new URL(f.meta.image,h);p.hostname!==window.location.hostname?f.meta.image=p.toString():f.meta.image=p.pathname+u}}})})};document.addEventListener("astro:after-swap",()=>{t!==null&&t.destroy()}),document.addEventListener("astro:page-load",()=>{c()},{once:!1})}}customElements.define("site-search",k);export{S as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/ui-core.-I_Q098A.js","_astro/ViewTransitions.astro_astro_type_script_index_0_lang.smVYmDTI.js","_astro/index.S9RqswRG.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}