import{n as v}from"./ViewTransitions.astro_astro_type_script_index_0_lang.Sq--PNrF.js";import"./index.S9RqswRG.js";const w=()=>{const l=document.querySelector("#nav-toggle");document.querySelector("#siteNav");const o=document.querySelectorAll("[data-submenu]");if(l===null)return;const a=(t=null)=>{const e=document.querySelectorAll("[data-submenu].opened");if(t===null){e.forEach(s=>{s.classList.remove("opened")});return}const n=t.target;e.forEach(s=>{s.children[0]!==n&&s.classList.remove("opened")})},i=()=>{o.forEach(t=>{const e=t.querySelector("[data-submenu-button]");e?.addEventListener("click",n=>{const s=e.dataset.submenuButton;console.log(s),document.getElementById(s)?.classList.toggle("opened");const c=t.children[0];c.ariaExpanded==="false"?c.ariaExpanded="true":c.ariaExpanded="false"})})},u=()=>{document.body.classList.toggle("nav-active")};document.onmouseup=t=>{a(t)},document.onkeydown=t=>{t.key,t.key},l.addEventListener("click",t=>{t.preventDefault(),u()}),i(),console.log("Navigation initialized.")};document.addEventListener("astro:page-load",l=>{w()},{once:!1});class L extends HTMLElement{constructor(){super();const o=this.querySelectorAll(".dropdown-btn"),a=this.querySelectorAll(".dropdown"),i=this.querySelector("#hamburger");function u(){o.forEach(n=>n.setAttribute("aria-expanded","false"))}function t(){a.forEach(n=>{n.classList.remove("active"),n.addEventListener("click",s=>s.stopPropagation())})}function e(){document.body.classList.toggle("nav-active")}o.forEach(n=>{n.addEventListener("click",function(s){const m=s.target.dataset.dropdown;document.getElementById(m).classList.toggle("active"),a.forEach(d=>{d.id!==n.dataset.dropdown&&d.classList.remove("active")}),s.stopPropagation(),n.setAttribute("aria-expanded",n.getAttribute("aria-expanded")==="false"?"true":"false")})}),document.documentElement.addEventListener("click",()=>{t(),u()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&(t(),u())}),i.addEventListener("click",e)}}customElements.define("site-nav",L);const y=()=>{const l=document.querySelector("#contactModal"),o=document.querySelector("#contactLink");o!=null&&(o.onclick=a=>{a.preventDefault(),l?.classList.toggle("show"),document.documentElement.classList.toggle("no-scroll")})};document.addEventListener("astro:page-load",l=>{y()},{once:!1});class b extends HTMLElement{constructor(){super();const o=this.querySelector("select");o&&o.addEventListener("change",a=>{if(a.currentTarget instanceof HTMLSelectElement){const i=a.currentTarget.options[a.currentTarget.selectedIndex].dataset.language;window.localStorage.setItem("language",i),v(a.currentTarget.value)}})}}customElements.define("lang-select",b);const k="modulepreload",S=function(l){return"/deploy-previews/daliborhon.dev/1/"+l},p={},q=function(o,a,i){let u=Promise.resolve();if(a&&a.length>0){const t=document.getElementsByTagName("link");u=Promise.all(a.map(e=>{if(e=S(e),e in p)return;p[e]=!0;const n=e.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(!!i)for(let d=t.length-1;d>=0;d--){const r=t[d];if(r.href===e&&(!n||r.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":k,n||(c.as="script",c.crossOrigin=""),c.href=e,document.head.appendChild(c),n)return new Promise((d,r)=>{c.addEventListener("load",d),c.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))})}))}return u.then(()=>o()).catch(t=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t})};class I extends HTMLElement{constructor(){super();const o=this.querySelector("button[data-open-modal]"),a=this.querySelector("button[data-close-modal]"),i=this.querySelector("dialog"),u=this.querySelector(".dialog-frame"),t="";let e=null;const n=r=>{("href"in(r.target||{})||document.body.contains(r.target)&&!u.contains(r.target))&&m()},s=r=>{i.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),r?.stopPropagation(),window.addEventListener("click",n)},m=()=>i.close();o.addEventListener("click",s),o.disabled=!1,a.addEventListener("click",m),i.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",n)}),window.addEventListener("keydown",r=>{const g=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);r.metaKey===!0&&r.key==="k"?(i.open?m():s(),r.preventDefault()):r.key==="/"&&!i.open&&!g&&(s(),r.preventDefault())});let c={};try{c=JSON.parse(this.dataset.translations||"{}")}catch{}const d=()=>{(window.requestIdleCallback||(g=>setTimeout(g,1)))(async()=>{const{PagefindUI:g}=await q(()=>import("./ui-core.THKS-fEj.js"),__vite__mapDeps([0,1,2]));e===null&&(e=new g({element:"#pagefind",baseUrl:"/deploy-previews/daliborhon.dev/1/",bundlePath:"/deploy-previews/daliborhon.dev/1/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:c,showSubResults:!0,processResult:function(f){if(f?.meta?.image){let E=new URL(f.url,String(window.location)),h=new URL(f.meta.image,E);h.hostname!==window.location.hostname?f.meta.image=h.toString():f.meta.image=h.pathname+t}}}))})};document.addEventListener("astro:after-swap",()=>{e!==null&&e.destroy()}),document.addEventListener("astro:page-load",()=>{d()},{once:!1})}}customElements.define("site-search",I);class x extends HTMLElement{#e="theme-preference";#t=this.querySelector("#theme-toggle");constructor(){super(),this.#o(),this.#t?.addEventListener("click",()=>this.#a())}#n(){return localStorage.getItem(this.#e)?localStorage.getItem(this.#e):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}#o(){document.documentElement.dataset.theme=this.#n(),this.#t?.setAttribute("aria-label",this.#n())}#s(o){localStorage.setItem(this.#e,o),this.#o()}#a(){const o=document.documentElement.dataset.theme==="light"?"dark":"light";this.#s(o)}}customElements.define("theme-select",x);export{q as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/ui-core.THKS-fEj.js","_astro/ViewTransitions.astro_astro_type_script_index_0_lang.Sq--PNrF.js","_astro/index.S9RqswRG.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}