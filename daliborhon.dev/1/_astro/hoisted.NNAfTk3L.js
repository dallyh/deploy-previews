import{n as w}from"./ViewTransitions.astro_astro_type_script_index_0_lang.smVYmDTI.js";import"./index.S9RqswRG.js";const E=()=>{const i=document.querySelector("#contactModal"),n=document.querySelector("#contactLink");n!=null&&(n.onclick=o=>{o.preventDefault(),i?.classList.toggle("show"),document.documentElement.classList.toggle("no-scroll")})};document.addEventListener("astro:page-load",i=>{E()},{once:!1});class L extends HTMLElement{constructor(){super();const n=this.querySelector("select");n&&n.addEventListener("change",o=>{o.currentTarget instanceof HTMLSelectElement&&w(o.currentTarget.value)})}}customElements.define("lang-select",L);const y="modulepreload",S=function(i){return"/deploy-previews/daliborhon.dev/1/"+i},p={},k=function(n,o,l){let f=Promise.resolve();if(o&&o.length>0){const r=document.getElementsByTagName("link");f=Promise.all(o.map(e=>{if(e=S(e),e in p)return;p[e]=!0;const s=e.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(!!l)for(let c=r.length-1;c>=0;c--){const t=r[c];if(t.href===e&&(!s||t.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${u}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":y,s||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),s)return new Promise((c,t)=>{a.addEventListener("load",c),a.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))})}))}return f.then(()=>n()).catch(r=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=r,window.dispatchEvent(e),!e.defaultPrevented)throw r})};class b extends HTMLElement{constructor(){super();const n=this.querySelector("button[data-open-modal]"),o=this.querySelector("button[data-close-modal]"),l=this.querySelector("dialog"),f=this.querySelector(".dialog-frame"),r="";let e=null;const s=t=>{("href"in(t.target||{})||document.body.contains(t.target)&&!f.contains(t.target))&&g()},u=t=>{l.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),t?.stopPropagation(),window.addEventListener("click",s)},g=()=>l.close();n.addEventListener("click",u),n.disabled=!1,o.addEventListener("click",g),l.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",s)}),window.addEventListener("keydown",t=>{const d=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);t.metaKey===!0&&t.key==="k"?(l.open?g():u(),t.preventDefault()):t.key==="/"&&!l.open&&!d&&(u(),t.preventDefault())});let a={};try{a=JSON.parse(this.dataset.translations||"{}")}catch{}const c=()=>{(window.requestIdleCallback||(d=>setTimeout(d,1)))(async()=>{const{PagefindUI:d}=await k(()=>import("./ui-core.X--cab_o.js"),__vite__mapDeps([0,1,2]));e=new d({element:"#pagefind",baseUrl:"/deploy-previews/daliborhon.dev/1/",bundlePath:"/deploy-previews/daliborhon.dev/1/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:a,showSubResults:!0,processResult:function(m){if(m?.meta?.image){let v=new URL(m.url,String(window.location)),h=new URL(m.meta.image,v);h.hostname!==window.location.hostname?m.meta.image=h.toString():m.meta.image=h.pathname+r}}})})};document.addEventListener("astro:after-swap",()=>{e!==null&&e.destroy()}),document.addEventListener("astro:page-load",()=>{c()},{once:!1})}}customElements.define("site-search",b);export{k as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/ui-core.X--cab_o.js","_astro/ViewTransitions.astro_astro_type_script_index_0_lang.smVYmDTI.js","_astro/index.S9RqswRG.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}